<div class="container">
  <title>Login</title>
  <div class="login-container">
    <div class="login-card">
      <h2>Inicio de Sesión</h2>
      <form [formGroup]="formL">
        <div class="form-group">
          <label for="email">Correo electrónico</label>
          <div class="input-wrapper">
            <i class="icon fas fa-envelope"></i>
            <input type="email" id="email" class="form-control" formControlName="email" placeholder="Ingrese su correo electrónico">
          </div>
        </div>
        <div class="form-group">
          <label for="password">Contraseña</label>
          <div class="input-wrapper">
            <i class="icon fas fa-lock"></i>
            <input type="password" id="password" class="form-control" formControlName="password" placeholder="Ingrese su contraseña">
          </div>
        </div>
        <div class="form-footer">
          <a href="#" class="register-link" (click)="mostrarModalRegistro()">¿No tienes cuenta? Crear Cuenta</a>
        </div>
        <div class="form-action">
          <button type="submit" class="btn btn-primary" (click)="login()">Ingresar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal -->
  <form [formGroup]="formUsuario">
    <div class="modal fade" id="modalUsuario" tabindex="-1" aria-labelledby="modalUsuarioLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalUsuarioLabel">Crear Usuario</h5>
            <button type="button" class="btn-close" (click)="cerrarBoton()" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="row g-4">
              <!-- Primera columna -->
              <div class="col-md-6">
                <div class="form-floating mb-4">
                  <input
                    type="text"
                    class="form-control"
                    id="nombre"
                    placeholder="Nombre"
                    formControlName="nombre"
                    required
                  />
                  <label for="nombre">Nombre</label>
                  <small
                    *ngIf="formUsuario.controls['nombre'].hasError('required') && formUsuario.controls['nombre'].touched"
                    class="text-danger"
                  >
                    Campo obligatorio
                  </small>
                </div>
                <div class="form-floating mb-4">
                  <input
                    type="text"
                    class="form-control"
                    id="apellido"
                    placeholder="Apellido"
                    formControlName="apellido"
                    required
                  />
                  <label for="apellido">Apellido</label>
                  <small
                    *ngIf="formUsuario.controls['apellido'].hasError('required') && formUsuario.controls['apellido'].touched"
                    class="text-danger"
                  >
                    Campo obligatorio
                  </small>
                </div>
  
                <div class="form-floating mb-4">
                  <select class="form-select" id="urlImg" formControlName="urlImg" required>
                    <option value="" disabled selected>Seleccione Sexo</option>
                    <option value="https://cdn-icons-png.flaticon.com/512/2922/2922506.png">Masculino</option>
                    <option value="https://cdn-icons-png.flaticon.com/512/6889/6889361.png">Femenino</option>
                  </select>
                  <label for="urlImg">Sexo</label>
                  <small
                    *ngIf="formUsuario.controls['urlImg'].hasError('required') && formUsuario.controls['urlImg'].touched"
                    class="text-danger"
                  >
                    Campo obligatorio
                  </small>
                </div>
              </div>
              <!-- Segunda columna -->
              <div class="col-md-6">
                <div class="form-floating mb-4">
                  <select class="form-select" id="idDistrito" formControlName="idDistrito" required>
                    <option value="" disabled selected>Seleccione un distrito</option>
                    <option *ngFor="let lista of listarDistritos;" [value]="lista.id">{{lista.descripcion}}</option>
                  </select>
                  <label for="idDistrito">Distrito</label>
                  <small
                    *ngIf="formUsuario.controls['idDistrito'].hasError('required') && formUsuario.controls['idDistrito'].touched"
                    class="text-danger"
                  >
                    Campo obligatorio
                  </small>
                </div>
                <div class="form-floating mb-4">
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    placeholder="Email"
                    formControlName="email"
                    required
                  />
                  <label for="email">Email</label>
                  <small
                    *ngIf="formUsuario.controls['email'].hasError('required') && formUsuario.controls['email'].touched"
                    class="text-danger"
                  >
                    Campo obligatorio
                  </small>
                  <small
                    *ngIf="formUsuario.controls['email'].hasError('email') && formUsuario.controls['email'].touched"
                    class="text-danger"
                  >
                    Email inválido
                  </small>
                </div>
                <div class="form-floating mb-4">
                  <input
                    type="password"
                    class="form-control"
                    id="password"
                    placeholder="Contraseña"
                    formControlName="password"
                    required
                  />
                  <label for="password">Contraseña</label>
                  <small
                    *ngIf="formUsuario.controls['password'].hasError('required') && formUsuario.controls['password'].touched"
                    class="text-danger"
                  >
                    Campo obligatorio<br>
                  </small>
                  <small
                    *ngIf="formUsuario.controls['password'].hasError('minlength') && formUsuario.controls['password'].touched"
                    class="text-danger"
                  >
                    La contraseña debe tener al menos 8 caracteres<br>
                  </small>
                  <!-- Para el error de al menos un carácter especial -->
<small
*ngIf="formUsuario.controls['password'].hasError('validSpeciPorLoMenosUnCaracteEspecialalChar') && formUsuario.controls['password'].touched"
class="text-danger"
>
La contraseña debe contener al menos un carácter especial.
<br>
</small>

<!-- Para el error de al menos un número -->
<small
*ngIf="formUsuario.controls['password'].hasError('PorLoMenosUnNumero') && formUsuario.controls['password'].touched"
class="text-danger"
>
La contraseña debe contener al menos un número.<br>
</small>

<!-- Para el error de al menos una mayúscula -->
<small
*ngIf="formUsuario.controls['password'].hasError('PorLoMenosUnaMayuscula') && formUsuario.controls['password'].touched"
class="text-danger"
>
La contraseña debe contener al menos una mayúscula.<br>
</small>

                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="cerrarBoton()">Cerrar</button>
            <button type="submit" class="btn btn-primary" (click)="alertRegistro()">{{ nameBoton }}</button>
          </div>
        </div>
      </div>
    </div>
  </form>
  


</div>
